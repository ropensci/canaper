<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Test the number of iterations needed to generate a random community that is
sufficiently different from the original community. — cpr_iter_test • canaper</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Test the number of iterations needed to generate a random community that is
sufficiently different from the original community. — cpr_iter_test"><meta property="og:description" content="A single random community will be created for each value in n_iter_test,
using that value for the n_iterations argument of cpr_rand_comm(). The
Euclidean distance is then calculated between the original
community and each random community."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">canaper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/canape.html">CANAPE example</a>
    </li>
    <li>
      <a href="../articles/how-many-rand.html">How many randomizations?</a>
    </li>
    <li>
      <a href="../articles/parallel.html">Parallel computing</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/canaper/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Test the number of iterations needed to generate a random community that is
sufficiently different from the original community.</h1>
    <small class="dont-index">Source: <a href="https://github.com/ropensci/canaper/blob/HEAD/R/cpr_iter_test.R" class="external-link"><code>R/cpr_iter_test.R</code></a></small>
    <div class="hidden name"><code>cpr_iter_test.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A single random community will be created for each value in <code>n_iter_test</code>,
using that value for the <code>n_iterations</code> argument of <code><a href="cpr_rand_comm.html">cpr_rand_comm()</a></code>. The
Euclidean distance is then calculated between the original
community and each random community.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cpr_iter_test</span><span class="op">(</span></span>
<span>  <span class="va">comm</span>,</span>
<span>  null_model <span class="op">=</span> <span class="st">"curveball"</span>,</span>
<span>  binary <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">n_iter_test</span>,</span>
<span>  time_digits <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  time_units <span class="op">=</span> <span class="st">"secs"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>comm</dt>
<dd><p>Dataframe or matrix; input community data with
sites (communities) as rows and species as columns. Values of each cell are
the presence/absence (0 or 1) or number of individuals (abundance) of each
species in each site.</p></dd>


<dt>null_model</dt>
<dd><p>Character vector of length 1 or object of class <code>commsim</code>;
either the name of the model to use for generating random communities (null
model), or a custom null model. For full list of available predefined null
models, see the help file of <code><a href="https://rdrr.io/pkg/vegan/man/commsim.html" class="external-link">vegan::commsim()</a></code>, or run
<code><a href="https://rdrr.io/pkg/vegan/man/commsim.html" class="external-link">vegan::make.commsim()</a></code>. An object of class <code>commsim</code> can be generated with
<code><a href="https://rdrr.io/pkg/vegan/man/commsim.html" class="external-link">vegan::commsim()</a></code>.</p></dd>


<dt>binary</dt>
<dd><p>Logical vector of length 1; is null model a binary model
(produces random community data matrix with 1s and 0s) or not?
If NULL (default), will attempt to determine automatically from name of
null model (<code>null_model</code>).</p></dd>


<dt>thin</dt>
<dd><p>Numeric vector of length 1; thinning parameter used by some
null models in <code>vegan</code> (e.g., <code>quasiswap</code>); ignored for other models.</p></dd>


<dt>seed</dt>
<dd><p>Integer vector of length 1 or NULL; random seed that will be used
in a call to <code><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed()</a></code> before randomizing the matrix. Default (<code>NULL</code>)
will not change the random generator state.</p></dd>


<dt>n_iter_test</dt>
<dd><p>Numeric vector; number of iterations to test (see Details
and Examples).</p></dd>


<dt>time_digits</dt>
<dd><p>Numeric vector of length 1; number of digits to include
when recording elapsed time to calculate each random community. Default 5.</p></dd>


<dt>time_units</dt>
<dd><p>Character vector of length 1; units to use when
recording elapsed time to calculate each random community. Must be
a valid value for <code>units</code> argument of <code><a href="https://rdrr.io/r/base/difftime.html" class="external-link">base::difftime()</a></code>. Default seconds
(`"secs"``).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Tibble (dataframe) with the following columns:</p><ul><li><p><code>n_iter</code>: Number of iterations used to generate random community</p></li>
<li><p><code>dist</code>: Euclidean distance between original community and
random community</p></li>
<li><p><code>time</code>: Amount of time elapsed when generating random community</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The user should verify that distances increase with increasing
iterations until an approximate maximum is reached. Of course, this only
makes sense for randomization algorithms that use iterations.</p>
<p>The number of iterations to test (<code>n_iter_test</code>) is left to the user. A good
rule of thumb is to test successive powers of 10. In this case, no more
than four or five values is usually needed before distances stabilize (see
Examples). Generally, fewer iterations are needed for smaller datasets.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">biod_example</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">cpr_iter_test</span><span class="op">(</span></span></span>
<span class="r-in"><span>  comm <span class="op">=</span> <span class="va">biod_example</span><span class="op">$</span><span class="va">comm</span>,</span></span>
<span class="r-in"><span>  null_model <span class="op">=</span> <span class="st">"swap"</span>,</span></span>
<span class="r-in"><span>  n_iter_test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">1000</span>, <span class="fl">10000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  seed <span class="op">=</span> <span class="fl">123</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 4 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   n_iter  dist    time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>      1  2    0.001<span style="text-decoration: underline;">4</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     10  6.32 0.002<span style="text-decoration: underline;">51</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>   <span style="text-decoration: underline;">1</span>000 23.6  0.009<span style="text-decoration: underline;">09</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">10</span>000 23.8  0.067<span style="text-decoration: underline;">9</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joel H. Nitta.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

